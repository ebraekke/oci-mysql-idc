{
    "version": 3,
    "terraform_version": "0.11.7",
    "serial": 2,
    "lineage": "eb96b0fb-c66c-6f7e-7c4a-8b881bdbee45",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "bastion_public_ip": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "129.146.115.44"
                    ]
                },
                "master_private_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.0.20.2"
                },
                "nat_public_ip": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "129.146.118.81"
                    ]
                },
                "slave_private_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.0.30.2",
                        "10.0.31.2"
                    ]
                }
            },
            "resources": {
                "data.oci_core_private_ips.nat": {
                    "type": "oci_core_private_ips",
                    "depends_on": [
                        "data.oci_core_vnic.nat",
                        "oci_core_subnet.nat"
                    ],
                    "primary": {
                        "id": "2018-09-28 07:55:14.740091 +0000 UTC",
                        "attributes": {
                            "id": "2018-09-28 07:55:14.740091 +0000 UTC",
                            "ip_address": "10.0.1.2",
                            "private_ips.#": "1",
                            "private_ips.0.availability_domain": "NyKp:PHX-AD-1",
                            "private_ips.0.compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "private_ips.0.display_name": "MysqlNat1",
                            "private_ips.0.hostname_label": "",
                            "private_ips.0.id": "ocid1.privateip.oc1.phx.abyhqljs4c2t6q24rzqkuik2jssoirgjm6jhjmt6alat5l2gtdzfzdwoxida",
                            "private_ips.0.ip_address": "10.0.1.2",
                            "private_ips.0.is_primary": "true",
                            "private_ips.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                            "private_ips.0.time_created": "2018-09-28 07:54:07.197 +0000 UTC",
                            "private_ips.0.vnic_id": "ocid1.vnic.oc1.phx.abyhqljsdd3rwcqiaoj6cnxdvvno4nl477de24qwhrqms36nolrhilutueoa",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "data.oci_core_vnic.bastion": {
                    "type": "oci_core_vnic",
                    "depends_on": [
                        "data.oci_core_vnic_attachments.bastion"
                    ],
                    "primary": {
                        "id": "ocid1.vnic.oc1.phx.abyhqljsbvhqmzujzvodm465muahrcikffysuheqjui5zqqh5fgwglvcmrha",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "MysqlBastion1",
                            "id": "ocid1.vnic.oc1.phx.abyhqljsbvhqmzujzvodm465muahrcikffysuheqjui5zqqh5fgwglvcmrha",
                            "is_primary": "true",
                            "mac_address": "00:00:17:01:92:47",
                            "private_ip_address": "10.0.0.2",
                            "public_ip_address": "129.146.115.44",
                            "skip_source_dest_check": "false",
                            "state": "AVAILABLE",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaarqmwl6mqtrfrm6m4hf6fxmnyonmdlwwzy6xqdxgmsn2vchw4s2nq",
                            "time_created": "2018-09-28 07:54:07.012 +0000 UTC",
                            "vnic_id": "ocid1.vnic.oc1.phx.abyhqljsbvhqmzujzvodm465muahrcikffysuheqjui5zqqh5fgwglvcmrha"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "data.oci_core_vnic.nat": {
                    "type": "oci_core_vnic",
                    "depends_on": [
                        "data.oci_core_vnic_attachments.nat"
                    ],
                    "primary": {
                        "id": "ocid1.vnic.oc1.phx.abyhqljsdd3rwcqiaoj6cnxdvvno4nl477de24qwhrqms36nolrhilutueoa",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "MysqlNat1",
                            "id": "ocid1.vnic.oc1.phx.abyhqljsdd3rwcqiaoj6cnxdvvno4nl477de24qwhrqms36nolrhilutueoa",
                            "is_primary": "true",
                            "mac_address": "00:00:17:01:68:7A",
                            "private_ip_address": "10.0.1.2",
                            "public_ip_address": "129.146.118.81",
                            "skip_source_dest_check": "true",
                            "state": "AVAILABLE",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                            "time_created": "2018-09-28 07:54:07.197 +0000 UTC",
                            "vnic_id": "ocid1.vnic.oc1.phx.abyhqljsdd3rwcqiaoj6cnxdvvno4nl477de24qwhrqms36nolrhilutueoa"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "data.oci_core_vnic_attachments.bastion": {
                    "type": "oci_core_vnic_attachments",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_instance.bastion"
                    ],
                    "primary": {
                        "id": "2018-09-28 07:55:02.5259 +0000 UTC",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "id": "2018-09-28 07:55:02.5259 +0000 UTC",
                            "instance_id": "ocid1.instance.oc1.phx.abyhqljs3ntgt5qtwwyzqjhib67w5tdw7e3hoe456hx3ehosnzbytf6ccvia",
                            "vnic_attachments.#": "1",
                            "vnic_attachments.0.availability_domain": "NyKp:PHX-AD-1",
                            "vnic_attachments.0.compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "vnic_attachments.0.create_vnic_details.#": "0",
                            "vnic_attachments.0.display_name": "",
                            "vnic_attachments.0.id": "ocid1.vnicattachment.oc1.phx.abyhqljsyglewz5govgfplyqbgzyyj5wf43b5ssci4bzqrlqzaailtraft3a",
                            "vnic_attachments.0.instance_id": "ocid1.instance.oc1.phx.abyhqljs3ntgt5qtwwyzqjhib67w5tdw7e3hoe456hx3ehosnzbytf6ccvia",
                            "vnic_attachments.0.nic_index": "0",
                            "vnic_attachments.0.state": "ATTACHED",
                            "vnic_attachments.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaarqmwl6mqtrfrm6m4hf6fxmnyonmdlwwzy6xqdxgmsn2vchw4s2nq",
                            "vnic_attachments.0.time_created": "2018-09-28 07:54:07.298 +0000 UTC",
                            "vnic_attachments.0.vlan_tag": "43",
                            "vnic_attachments.0.vnic_id": "ocid1.vnic.oc1.phx.abyhqljsbvhqmzujzvodm465muahrcikffysuheqjui5zqqh5fgwglvcmrha"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "data.oci_core_vnic_attachments.nat": {
                    "type": "oci_core_vnic_attachments",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_instance.nat"
                    ],
                    "primary": {
                        "id": "2018-09-28 07:55:13.973732 +0000 UTC",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "id": "2018-09-28 07:55:13.973732 +0000 UTC",
                            "instance_id": "ocid1.instance.oc1.phx.abyhqljs4v4spio4wgu2tfx4lk4b4ftnq7wjxj64mlzmptueou6yr5tfr3bq",
                            "vnic_attachments.#": "1",
                            "vnic_attachments.0.availability_domain": "NyKp:PHX-AD-1",
                            "vnic_attachments.0.compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "vnic_attachments.0.create_vnic_details.#": "0",
                            "vnic_attachments.0.display_name": "",
                            "vnic_attachments.0.id": "ocid1.vnicattachment.oc1.phx.abyhqljse6xg2giwfjeduttrcmbo5grxterjezwdctahj7jpl7b3ih6yvbxq",
                            "vnic_attachments.0.instance_id": "ocid1.instance.oc1.phx.abyhqljs4v4spio4wgu2tfx4lk4b4ftnq7wjxj64mlzmptueou6yr5tfr3bq",
                            "vnic_attachments.0.nic_index": "0",
                            "vnic_attachments.0.state": "ATTACHED",
                            "vnic_attachments.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                            "vnic_attachments.0.time_created": "2018-09-28 07:54:07.498 +0000 UTC",
                            "vnic_attachments.0.vlan_tag": "2807",
                            "vnic_attachments.0.vnic_id": "ocid1.vnic.oc1.phx.abyhqljsdd3rwcqiaoj6cnxdvvno4nl477de24qwhrqms36nolrhilutueoa"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "data.oci_identity_availability_domains.ad": {
                    "type": "oci_identity_availability_domains",
                    "depends_on": [],
                    "primary": {
                        "id": "2018-09-28 07:53:56.986478 +0000 UTC",
                        "attributes": {
                            "availability_domains.#": "3",
                            "availability_domains.0.compartment_id": "ocid1.tenancy.oc1..aaaaaaaawgbzspd6cjovpmic7dahwbalg4opcbixgguo6z2s7t335m6lalbq",
                            "availability_domains.0.name": "NyKp:PHX-AD-1",
                            "availability_domains.1.compartment_id": "ocid1.tenancy.oc1..aaaaaaaawgbzspd6cjovpmic7dahwbalg4opcbixgguo6z2s7t335m6lalbq",
                            "availability_domains.1.name": "NyKp:PHX-AD-2",
                            "availability_domains.2.compartment_id": "ocid1.tenancy.oc1..aaaaaaaawgbzspd6cjovpmic7dahwbalg4opcbixgguo6z2s7t335m6lalbq",
                            "availability_domains.2.name": "NyKp:PHX-AD-3",
                            "compartment_id": "ocid1.tenancy.oc1..aaaaaaaawgbzspd6cjovpmic7dahwbalg4opcbixgguo6z2s7t335m6lalbq",
                            "id": "2018-09-28 07:53:56.986478 +0000 UTC"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "data.template_file.ad_names.0": {
                    "type": "template_file",
                    "depends_on": [
                        "data.oci_identity_availability_domains.ad"
                    ],
                    "primary": {
                        "id": "796258506f9c78662ac036c71a00446f9ad90ff7c9ed50f5153c40db826fc084",
                        "attributes": {
                            "id": "796258506f9c78662ac036c71a00446f9ad90ff7c9ed50f5153c40db826fc084",
                            "rendered": "NyKp:PHX-AD-1",
                            "template": "NyKp:PHX-AD-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ad_names.1": {
                    "type": "template_file",
                    "depends_on": [
                        "data.oci_identity_availability_domains.ad"
                    ],
                    "primary": {
                        "id": "31b11fa035f0dffde9b9d63d66c84b12cfd9f76b696e59dd9a92a8f8fbb144c4",
                        "attributes": {
                            "id": "31b11fa035f0dffde9b9d63d66c84b12cfd9f76b696e59dd9a92a8f8fbb144c4",
                            "rendered": "NyKp:PHX-AD-2",
                            "template": "NyKp:PHX-AD-2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.ad_names.2": {
                    "type": "template_file",
                    "depends_on": [
                        "data.oci_identity_availability_domains.ad"
                    ],
                    "primary": {
                        "id": "15b0cd181eb3435a6ef9269e07057b728bb6ecbe97b6f06106702b1300de6bdb",
                        "attributes": {
                            "id": "15b0cd181eb3435a6ef9269e07057b728bb6ecbe97b6f06106702b1300de6bdb",
                            "rendered": "NyKp:PHX-AD-3",
                            "template": "NyKp:PHX-AD-3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "oci_core_instance.bastion": {
                    "type": "oci_core_instance",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_subnet.bastion"
                    ],
                    "primary": {
                        "id": "ocid1.instance.oc1.phx.abyhqljs3ntgt5qtwwyzqjhib67w5tdw7e3hoe456hx3ehosnzbytf6ccvia",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "boot_volume_id": "ocid1.bootvolume.oc1.phx.abyhqljsp4zukgnvr3lhii4q6nbcifzuz7gctpvpky2mlwiidpjllcyav7sq",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "create_vnic_details.#": "1",
                            "create_vnic_details.0.assign_public_ip": "true",
                            "create_vnic_details.0.display_name": "MysqlBastion1",
                            "create_vnic_details.0.hostname_label": "",
                            "create_vnic_details.0.private_ip": "10.0.0.2",
                            "create_vnic_details.0.skip_source_dest_check": "false",
                            "create_vnic_details.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaarqmwl6mqtrfrm6m4hf6fxmnyonmdlwwzy6xqdxgmsn2vchw4s2nq",
                            "display_name": "MysqlBastion1",
                            "hostname_label": "",
                            "id": "ocid1.instance.oc1.phx.abyhqljs3ntgt5qtwwyzqjhib67w5tdw7e3hoe456hx3ehosnzbytf6ccvia",
                            "image": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "launch_mode": "NATIVE",
                            "launch_options.#": "1",
                            "launch_options.0.boot_volume_type": "PARAVIRTUALIZED",
                            "launch_options.0.firmware": "UEFI_64",
                            "launch_options.0.network_type": "VFIO",
                            "launch_options.0.remote_data_volume_type": "PARAVIRTUALIZED",
                            "metadata.%": "1",
                            "metadata.ssh_authorized_keys": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCojE8EDuuuGvxC5ty1Ga3vu1BF5s7K7mNZ9Pdn8N2LG69rOFHVEvEppHDhSKpdDGoorqeHH2vJYXyntepDMkVi9bdbb2/Hblow1cR3sGIyiLz79bByj+p1d/t32WzgxC2y1yrC6/llPX0reWbQVGELKtWzR7fYeesYmP+jOzdd59cVfd9Rv8n8mfn8bSo3g+UErSnVrOyRyQd86JzWp9870soA95mJR0vOA6Koho92zGnTVtqDkbVXFoPfB9BTo/3U1LHGdvN50bFhVPCZYU8iCpTZ5mEQq/mDKWFilRQpRjhhD8K24Tqx+KmWrcjnRfFi0KUov/c4Osx5JVK1dQj1 pengshan.yu@oracle.com\n",
                            "private_ip": "10.0.0.2",
                            "public_ip": "129.146.115.44",
                            "region": "phx",
                            "shape": "VM.Standard1.1",
                            "source_details.#": "1",
                            "source_details.0.boot_volume_size_in_gbs": "47",
                            "source_details.0.source_id": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "source_details.0.source_type": "image",
                            "state": "RUNNING",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaarqmwl6mqtrfrm6m4hf6fxmnyonmdlwwzy6xqdxgmsn2vchw4s2nq",
                            "time_created": "2018-09-28 07:54:03.734 +0000 UTC"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 7200000000000,
                                "delete": 7200000000000,
                                "update": 7200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_instance.nat": {
                    "type": "oci_core_instance",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_subnet.nat"
                    ],
                    "primary": {
                        "id": "ocid1.instance.oc1.phx.abyhqljs4v4spio4wgu2tfx4lk4b4ftnq7wjxj64mlzmptueou6yr5tfr3bq",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "boot_volume_id": "ocid1.bootvolume.oc1.phx.abyhqljsgoul4tujwrw7ieje3qaqlzeaabxxpiabhfhfbchambckvvufctfa",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "create_vnic_details.#": "1",
                            "create_vnic_details.0.assign_public_ip": "true",
                            "create_vnic_details.0.display_name": "MysqlNat1",
                            "create_vnic_details.0.hostname_label": "",
                            "create_vnic_details.0.private_ip": "10.0.1.2",
                            "create_vnic_details.0.skip_source_dest_check": "true",
                            "create_vnic_details.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                            "display_name": "MysqlNat1",
                            "hostname_label": "",
                            "id": "ocid1.instance.oc1.phx.abyhqljs4v4spio4wgu2tfx4lk4b4ftnq7wjxj64mlzmptueou6yr5tfr3bq",
                            "image": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "launch_mode": "NATIVE",
                            "launch_options.#": "1",
                            "launch_options.0.boot_volume_type": "PARAVIRTUALIZED",
                            "launch_options.0.firmware": "UEFI_64",
                            "launch_options.0.network_type": "VFIO",
                            "launch_options.0.remote_data_volume_type": "PARAVIRTUALIZED",
                            "metadata.%": "2",
                            "metadata.ssh_authorized_keys": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCojE8EDuuuGvxC5ty1Ga3vu1BF5s7K7mNZ9Pdn8N2LG69rOFHVEvEppHDhSKpdDGoorqeHH2vJYXyntepDMkVi9bdbb2/Hblow1cR3sGIyiLz79bByj+p1d/t32WzgxC2y1yrC6/llPX0reWbQVGELKtWzR7fYeesYmP+jOzdd59cVfd9Rv8n8mfn8bSo3g+UErSnVrOyRyQd86JzWp9870soA95mJR0vOA6Koho92zGnTVtqDkbVXFoPfB9BTo/3U1LHGdvN50bFhVPCZYU8iCpTZ5mEQq/mDKWFilRQpRjhhD8K24Tqx+KmWrcjnRfFi0KUov/c4Osx5JVK1dQj1 pengshan.yu@oracle.com\n",
                            "metadata.user_data": "I2Nsb3VkLWNvbmZpZwoKd3JpdGVfZmlsZXM6CiAgIyBDcmVhdGUgZmlsZSB0byBiZSB1c2VkIHdoZW4gZW5hYmxpbmcgaXAgZm9yd2FyZGluZwogIC0gcGF0aDogL2V0Yy9zeXNjdGwuZC85OC1pcC1mb3J3YXJkLmNvbmYKICAgIGNvbnRlbnQ6IHwKICAgICAgbmV0LmlwdjQuaXBfZm9yd2FyZCA9IDEKCnJ1bmNtZDoKICAjIFJ1biBmaXJld2FsbCBjb21tYW5kcyB0byBlbmFibGUgbWFzcXVlcmFkaW5nIGFuZCBwb3J0IGZvcndhcmRpbmcKICAjIEVuYWJsZSBpcCBmb3J3YXJkaW5nIGJ5IHNldHRpbmcgc3lzY3RsIGtlcm5lbCBwYXJhbWV0ZXIKICAtIGZpcmV3YWxsLW9mZmxpbmUtY21kIC0tZGlyZWN0IC0tYWRkLXJ1bGUgaXB2NCBuYXQgUE9TVFJPVVRJTkcgMCAtbyBlbnMzIC1qIE1BU1FVRVJBREUKICAtIGZpcmV3YWxsLW9mZmxpbmUtY21kIC0tZGlyZWN0IC0tYWRkLXJ1bGUgaXB2NCBmaWx0ZXIgRk9SV0FSRCAwIC1pIGVuczMgLWogQUNDRVBUCiAgLSAvYmluL3N5c3RlbWN0bCByZXN0YXJ0IGZpcmV3YWxsZAogIC0gc3lzY3RsIC1wIC9ldGMvc3lzY3RsLmQvOTgtaXAtZm9yd2FyZC5jb25mCg==",
                            "private_ip": "10.0.1.2",
                            "public_ip": "129.146.118.81",
                            "region": "phx",
                            "shape": "VM.Standard1.1",
                            "source_details.#": "1",
                            "source_details.0.boot_volume_size_in_gbs": "47",
                            "source_details.0.source_id": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "source_details.0.source_type": "image",
                            "state": "RUNNING",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                            "time_created": "2018-09-28 07:54:04.122 +0000 UTC"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 7200000000000,
                                "delete": 7200000000000,
                                "update": 7200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_internet_gateway.MysqlIG": {
                    "type": "oci_core_internet_gateway",
                    "depends_on": [
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.internetgateway.oc1.phx.aaaaaaaakrucsoerqlbekzestftljy4nxxiazeoafy4lcuw4tngfyvytkawa",
                        "attributes": {
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "MysqlIG",
                            "enabled": "true",
                            "id": "ocid1.internetgateway.oc1.phx.aaaaaaaakrucsoerqlbekzestftljy4nxxiazeoafy4lcuw4tngfyvytkawa",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:53:59.512 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_route_table.MysqlPrivateRT": {
                    "type": "oci_core_route_table",
                    "depends_on": [
                        "data.oci_core_private_ips.nat",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.routetable.oc1.phx.aaaaaaaa7565goa35nf2txy4ozoipcgkti7a7ocydpykzy2x52hbvxfnksga",
                        "attributes": {
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "MysqlPrivateRT",
                            "id": "ocid1.routetable.oc1.phx.aaaaaaaa7565goa35nf2txy4ozoipcgkti7a7ocydpykzy2x52hbvxfnksga",
                            "route_rules.#": "1",
                            "route_rules.0.cidr_block": "0.0.0.0/0",
                            "route_rules.0.network_entity_id": "ocid1.privateip.oc1.phx.abyhqljs4c2t6q24rzqkuik2jssoirgjm6jhjmt6alat5l2gtdzfzdwoxida",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:55:15.032 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_route_table.MysqlPublicRT": {
                    "type": "oci_core_route_table",
                    "depends_on": [
                        "oci_core_internet_gateway.MysqlIG",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.routetable.oc1.phx.aaaaaaaabul7mgotcpdfymzhsvpftkbvogq3lxtvrfulshyxr2citynknspa",
                        "attributes": {
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "MysqlPublicRT",
                            "id": "ocid1.routetable.oc1.phx.aaaaaaaabul7mgotcpdfymzhsvpftkbvogq3lxtvrfulshyxr2citynknspa",
                            "route_rules.#": "1",
                            "route_rules.0.cidr_block": "0.0.0.0/0",
                            "route_rules.0.network_entity_id": "ocid1.internetgateway.oc1.phx.aaaaaaaakrucsoerqlbekzestftljy4nxxiazeoafy4lcuw4tngfyvytkawa",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:54:00.588 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_security_list.MysqlPrivate": {
                    "type": "oci_core_security_list",
                    "depends_on": [
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.securitylist.oc1.phx.aaaaaaaanbkfovsiisiijgt3fnsgi5pi3vejdktkfnrwiisibk2uc3oo5uxa",
                        "attributes": {
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "MysqlSecurityList",
                            "egress_security_rules.#": "1",
                            "egress_security_rules.0.destination": "0.0.0.0/0",
                            "egress_security_rules.0.icmp_options.#": "0",
                            "egress_security_rules.0.protocol": "6",
                            "egress_security_rules.0.stateless": "false",
                            "egress_security_rules.0.tcp_options.#": "0",
                            "egress_security_rules.0.udp_options.#": "0",
                            "id": "ocid1.securitylist.oc1.phx.aaaaaaaanbkfovsiisiijgt3fnsgi5pi3vejdktkfnrwiisibk2uc3oo5uxa",
                            "ingress_security_rules.#": "2",
                            "ingress_security_rules.0.icmp_options.#": "0",
                            "ingress_security_rules.0.protocol": "6",
                            "ingress_security_rules.0.source": "10.0.0.0/16",
                            "ingress_security_rules.0.stateless": "false",
                            "ingress_security_rules.0.tcp_options.#": "1",
                            "ingress_security_rules.0.tcp_options.0.max": "22",
                            "ingress_security_rules.0.tcp_options.0.min": "22",
                            "ingress_security_rules.0.tcp_options.0.source_port_range.#": "0",
                            "ingress_security_rules.0.udp_options.#": "0",
                            "ingress_security_rules.1.icmp_options.#": "0",
                            "ingress_security_rules.1.protocol": "6",
                            "ingress_security_rules.1.source": "10.0.0.0/16",
                            "ingress_security_rules.1.stateless": "false",
                            "ingress_security_rules.1.tcp_options.#": "1",
                            "ingress_security_rules.1.tcp_options.0.max": "3306",
                            "ingress_security_rules.1.tcp_options.0.min": "3306",
                            "ingress_security_rules.1.tcp_options.0.source_port_range.#": "0",
                            "ingress_security_rules.1.udp_options.#": "0",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:54:00.259 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_security_list.bastion": {
                    "type": "oci_core_security_list",
                    "depends_on": [
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.securitylist.oc1.phx.aaaaaaaa4uxcmphl77dwpctjy3stuselzp2sts52gjxtfb7xfwxbwtk7hsfq",
                        "attributes": {
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "BastionSecurityList",
                            "egress_security_rules.#": "1",
                            "egress_security_rules.0.destination": "10.0.0.0/16",
                            "egress_security_rules.0.icmp_options.#": "0",
                            "egress_security_rules.0.protocol": "6",
                            "egress_security_rules.0.stateless": "false",
                            "egress_security_rules.0.tcp_options.#": "1",
                            "egress_security_rules.0.tcp_options.0.max": "22",
                            "egress_security_rules.0.tcp_options.0.min": "22",
                            "egress_security_rules.0.tcp_options.0.source_port_range.#": "0",
                            "egress_security_rules.0.udp_options.#": "0",
                            "id": "ocid1.securitylist.oc1.phx.aaaaaaaa4uxcmphl77dwpctjy3stuselzp2sts52gjxtfb7xfwxbwtk7hsfq",
                            "ingress_security_rules.#": "1",
                            "ingress_security_rules.0.icmp_options.#": "0",
                            "ingress_security_rules.0.protocol": "6",
                            "ingress_security_rules.0.source": "0.0.0.0/0",
                            "ingress_security_rules.0.stateless": "false",
                            "ingress_security_rules.0.tcp_options.#": "1",
                            "ingress_security_rules.0.tcp_options.0.max": "22",
                            "ingress_security_rules.0.tcp_options.0.min": "22",
                            "ingress_security_rules.0.tcp_options.0.source_port_range.#": "0",
                            "ingress_security_rules.0.udp_options.#": "0",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:53:59.901 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_security_list.nat": {
                    "type": "oci_core_security_list",
                    "depends_on": [
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.securitylist.oc1.phx.aaaaaaaakdt5o4tqkg4rwqh3mtmb4oxj2umd7gozdk3khco2tmizc7avgtqa",
                        "attributes": {
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "display_name": "nat",
                            "egress_security_rules.#": "1",
                            "egress_security_rules.0.destination": "0.0.0.0/0",
                            "egress_security_rules.0.icmp_options.#": "0",
                            "egress_security_rules.0.protocol": "6",
                            "egress_security_rules.0.stateless": "false",
                            "egress_security_rules.0.tcp_options.#": "0",
                            "egress_security_rules.0.udp_options.#": "0",
                            "id": "ocid1.securitylist.oc1.phx.aaaaaaaakdt5o4tqkg4rwqh3mtmb4oxj2umd7gozdk3khco2tmizc7avgtqa",
                            "ingress_security_rules.#": "1",
                            "ingress_security_rules.0.icmp_options.#": "0",
                            "ingress_security_rules.0.protocol": "6",
                            "ingress_security_rules.0.source": "10.0.0.0/16",
                            "ingress_security_rules.0.stateless": "false",
                            "ingress_security_rules.0.tcp_options.#": "0",
                            "ingress_security_rules.0.udp_options.#": "0",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:54:00.3 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_subnet.MysqlMasterSubnetAD": {
                    "type": "oci_core_subnet",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_route_table.MysqlPrivateRT",
                        "oci_core_security_list.MysqlPrivate",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.subnet.oc1.phx.aaaaaaaa2zw7belsaaseddgqomqqradjiqik2mwgokx7l3qwkusrs6r5xmva",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "cidr_block": "10.0.20.0/24",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "display_name": "MysqlMasterSubnetAD",
                            "dns_label": "masterad",
                            "id": "ocid1.subnet.oc1.phx.aaaaaaaa2zw7belsaaseddgqomqqradjiqik2mwgokx7l3qwkusrs6r5xmva",
                            "prohibit_public_ip_on_vnic": "false",
                            "route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaa7565goa35nf2txy4ozoipcgkti7a7ocydpykzy2x52hbvxfnksga",
                            "security_list_ids.#": "1",
                            "security_list_ids.1119291897": "ocid1.securitylist.oc1.phx.aaaaaaaanbkfovsiisiijgt3fnsgi5pi3vejdktkfnrwiisibk2uc3oo5uxa",
                            "state": "AVAILABLE",
                            "subnet_domain_name": "masterad.mysql.oraclevcn.com",
                            "time_created": "2018-09-28 07:55:20.889 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "virtual_router_ip": "10.0.20.1",
                            "virtual_router_mac": "00:00:17:D2:80:CA"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_subnet.MysqlSlaveSubnetAD.0": {
                    "type": "oci_core_subnet",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_route_table.MysqlPrivateRT",
                        "oci_core_security_list.MysqlPrivate",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.subnet.oc1.phx.aaaaaaaaksjl5qdnlcng4nheheirg5xqa7i3ypdbfoi4lgiko245wm5w6vda",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "cidr_block": "10.0.30.0/24",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "display_name": "MysqlSlaveSubnetAD1",
                            "dns_label": "slavead1",
                            "id": "ocid1.subnet.oc1.phx.aaaaaaaaksjl5qdnlcng4nheheirg5xqa7i3ypdbfoi4lgiko245wm5w6vda",
                            "prohibit_public_ip_on_vnic": "false",
                            "route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaa7565goa35nf2txy4ozoipcgkti7a7ocydpykzy2x52hbvxfnksga",
                            "security_list_ids.#": "1",
                            "security_list_ids.1119291897": "ocid1.securitylist.oc1.phx.aaaaaaaanbkfovsiisiijgt3fnsgi5pi3vejdktkfnrwiisibk2uc3oo5uxa",
                            "state": "AVAILABLE",
                            "subnet_domain_name": "slavead1.mysql.oraclevcn.com",
                            "time_created": "2018-09-28 07:55:22.357 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "virtual_router_ip": "10.0.30.1",
                            "virtual_router_mac": "00:00:17:D2:80:CA"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_subnet.MysqlSlaveSubnetAD.1": {
                    "type": "oci_core_subnet",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_route_table.MysqlPrivateRT",
                        "oci_core_security_list.MysqlPrivate",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.subnet.oc1.phx.aaaaaaaawgd4stwfyobfhfs5nzuy35ouy5pgmcmtucsewhua5mibis47uljq",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-2",
                            "cidr_block": "10.0.31.0/24",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "display_name": "MysqlSlaveSubnetAD2",
                            "dns_label": "slavead2",
                            "id": "ocid1.subnet.oc1.phx.aaaaaaaawgd4stwfyobfhfs5nzuy35ouy5pgmcmtucsewhua5mibis47uljq",
                            "prohibit_public_ip_on_vnic": "false",
                            "route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaa7565goa35nf2txy4ozoipcgkti7a7ocydpykzy2x52hbvxfnksga",
                            "security_list_ids.#": "1",
                            "security_list_ids.1119291897": "ocid1.securitylist.oc1.phx.aaaaaaaanbkfovsiisiijgt3fnsgi5pi3vejdktkfnrwiisibk2uc3oo5uxa",
                            "state": "AVAILABLE",
                            "subnet_domain_name": "slavead2.mysql.oraclevcn.com",
                            "time_created": "2018-09-28 07:55:21.373 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "virtual_router_ip": "10.0.31.1",
                            "virtual_router_mac": "00:00:17:D2:80:CA"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_subnet.MysqlSlaveSubnetAD.2": {
                    "type": "oci_core_subnet",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "oci_core_route_table.MysqlPrivateRT",
                        "oci_core_security_list.MysqlPrivate",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.subnet.oc1.phx.aaaaaaaajiybewuumzcn224j4xj3zb757t3uaw2ui7v2jzbj2qz6f2rj7tda",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-3",
                            "cidr_block": "10.0.32.0/24",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "display_name": "MysqlSlaveSubnetAD3",
                            "dns_label": "slavead3",
                            "id": "ocid1.subnet.oc1.phx.aaaaaaaajiybewuumzcn224j4xj3zb757t3uaw2ui7v2jzbj2qz6f2rj7tda",
                            "prohibit_public_ip_on_vnic": "false",
                            "route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaa7565goa35nf2txy4ozoipcgkti7a7ocydpykzy2x52hbvxfnksga",
                            "security_list_ids.#": "1",
                            "security_list_ids.1119291897": "ocid1.securitylist.oc1.phx.aaaaaaaanbkfovsiisiijgt3fnsgi5pi3vejdktkfnrwiisibk2uc3oo5uxa",
                            "state": "AVAILABLE",
                            "subnet_domain_name": "slavead3.mysql.oraclevcn.com",
                            "time_created": "2018-09-28 07:55:21.673 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "virtual_router_ip": "10.0.32.1",
                            "virtual_router_mac": "00:00:17:D2:80:CA"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_subnet.bastion": {
                    "type": "oci_core_subnet",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "local.bastion_subnet_prefix",
                        "oci_core_route_table.MysqlPublicRT",
                        "oci_core_security_list.bastion",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.subnet.oc1.phx.aaaaaaaarqmwl6mqtrfrm6m4hf6fxmnyonmdlwwzy6xqdxgmsn2vchw4s2nq",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "cidr_block": "10.0.0.0/28",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "display_name": "BastionAD1",
                            "id": "ocid1.subnet.oc1.phx.aaaaaaaarqmwl6mqtrfrm6m4hf6fxmnyonmdlwwzy6xqdxgmsn2vchw4s2nq",
                            "prohibit_public_ip_on_vnic": "false",
                            "route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaabul7mgotcpdfymzhsvpftkbvogq3lxtvrfulshyxr2citynknspa",
                            "security_list_ids.#": "1",
                            "security_list_ids.532785402": "ocid1.securitylist.oc1.phx.aaaaaaaa4uxcmphl77dwpctjy3stuselzp2sts52gjxtfb7xfwxbwtk7hsfq",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:54:01.325 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "virtual_router_ip": "10.0.0.1",
                            "virtual_router_mac": "00:00:17:D2:80:CA"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_subnet.nat": {
                    "type": "oci_core_subnet",
                    "depends_on": [
                        "data.template_file.ad_names.*",
                        "local.nat_subnet_prefix",
                        "oci_core_route_table.MysqlPublicRT",
                        "oci_core_security_list.nat",
                        "oci_core_virtual_network.MysqlVCN"
                    ],
                    "primary": {
                        "id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "cidr_block": "10.0.1.0/28",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "display_name": "natad1",
                            "id": "ocid1.subnet.oc1.phx.aaaaaaaar6aitz23z233c6eoxbjwfhnsgwumkp37rv3orm6ksivkn5nszlia",
                            "prohibit_public_ip_on_vnic": "false",
                            "route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaabul7mgotcpdfymzhsvpftkbvogq3lxtvrfulshyxr2citynknspa",
                            "security_list_ids.#": "1",
                            "security_list_ids.2447886524": "ocid1.securitylist.oc1.phx.aaaaaaaakdt5o4tqkg4rwqh3mtmb4oxj2umd7gozdk3khco2tmizc7avgtqa",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:54:01.701 +0000 UTC",
                            "vcn_id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "virtual_router_ip": "10.0.1.1",
                            "virtual_router_mac": "00:00:17:D2:80:CA"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_virtual_network.MysqlVCN": {
                    "type": "oci_core_virtual_network",
                    "depends_on": [],
                    "primary": {
                        "id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                        "attributes": {
                            "cidr_block": "10.0.0.0/16",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "default_dhcp_options_id": "ocid1.dhcpoptions.oc1.phx.aaaaaaaa6srncu55x7wkc7y7kr6prxnbq544j4wtxi4t56wrqpz6gro7q7jq",
                            "default_route_table_id": "ocid1.routetable.oc1.phx.aaaaaaaa2d7soefguwgfgugjkq224al7lauspxehasvugd3bpkbuv2xsy24a",
                            "default_security_list_id": "ocid1.securitylist.oc1.phx.aaaaaaaatgevhozgfmmiv7mvmwawbucg7ban6qibfhcujoew2uvx2pebaxuq",
                            "display_name": "MysqlVCN",
                            "dns_label": "mysql",
                            "id": "ocid1.vcn.oc1.phx.aaaaaaaamt747a2nsaltt6s4qtssmnqf6erugd3ifridblr4z2kzjfb73k6a",
                            "state": "AVAILABLE",
                            "time_created": "2018-09-28 07:53:58.724 +0000 UTC",
                            "vcn_domain_name": "mysql.oraclevcn.com"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "mysql-replication-set"
            ],
            "outputs": {
                "master_instance_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ocid1.instance.oc1.phx.abyhqljsfpgei223hfnkcqu2fqgacqutgnq2yn53rk7spgsspt7462i4zdna"
                },
                "master_private_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.0.20.2"
                },
                "slave_instance_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "ocid1.instance.oc1.phx.abyhqljsnsvmteppvzzve6hlerv5niz6zub2xywi6jodmtjxzxii37ealjga",
                        "ocid1.instance.oc1.phx.abyhqljtq2ej6r3sgutz7arb7d52w7z5iozosiwgqde5qwqcj5xrg7ghngqq"
                    ]
                },
                "slave_private_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.0.30.2",
                        "10.0.31.2"
                    ]
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "mysql-replication-set",
                "mysql-replication-master"
            ],
            "outputs": {
                "id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ocid1.instance.oc1.phx.abyhqljsfpgei223hfnkcqu2fqgacqutgnq2yn53rk7spgsspt7462i4zdna"
                },
                "master_host_names": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "tf-mysql-master"
                    ]
                },
                "private_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.0.20.2"
                }
            },
            "resources": {
                "data.template_file.setup_mysql": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "6dcf8ab54948a684eda2992cfdf56c951524db7f9967f440a14c69471e85f7d1",
                        "attributes": {
                            "id": "6dcf8ab54948a684eda2992cfdf56c951524db7f9967f440a14c69471e85f7d1",
                            "rendered": "#!/bin/bash\nset -e -x\n\n#number_of_master=1\n#mysql_root_password=\"Admin@123\"\n#replicate_acount=\"repl\"\n#replicate_password=\"Slave@123\"\n#mysql_repo_releasever=\"8.0\"\n#mysql_version=\"8.0.12\"\n\n# Get the status of MySQL Master. File name and position in status will be used to initialize the Slave instance.\nfunction getMasterStatus() {\n  master_mysql_status=$(mysql -uroot -pAdmin@123 -s -e \"show master status \\G;\")\n  command sudo echo $master_mysql_status \u003e/home/opc/master_mysql_status\n}\n\n# Install Mysql\n## Using the MySQL Yum repository to install the latest versions of MySQL 8.0\n## Install Latest version： https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##sudo wget -O /etc/yum.repos.d/mysql.rpm https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##cd /etc/yum.repos.d\n##sudo rpm -Uvh mysql.rpm\n##sudo yum install -y mysql-community-server\n\n# Install MySQL Community Edition 8.0.12\nbaseurl=https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.12-1.el7.x86_64.rpm-bundle.tar\nsudo wget -O /etc/yum.repos.d/MySQL-8.0.12.tar $baseurl\ncd /etc/yum.repos.d\nsudo tar -xvf MySQL-8.0.12.tar\nsudo yum install -y mysql-community-{server,client,common,libs}-* --exclude='*minimal*'\n\n# Set httpport on firewall\nsudo firewall-cmd --zone=public --permanent --add-port=3306/tcp\nsudo firewall-cmd --reload\n\n# At the initial start-up of the server, the server is initializeda superuser\n# and account’root’@’localhost’ is created, when MySQL data directory is empty.\nsudo systemctl start mysqld.service\nsudo systemctl status mysqld.service\n\necho \"MySQL installed successfully!\"\n\n# Add skip-grant-tables parameter for mysql to alter password\nsudo chmod 666 /etc/my.cnf\ncommand sudo cat \u003e\u003e/etc/my.cnf \u003c\u003c'EOF'\n\nskip-grant-tables\nEOF\nsudo chmod 644 /etc/my.cnf\n\n# Restart mysql service\nsudo systemctl restart mysqld.service\n\n# Alter password for root\nmysql \u003c\u003cEOF\nFLUSH PRIVILEGES;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@1235';\nEOF\n\n# Stop mysql service\nsudo systemctl stop mysqld.service\n\n# Delete the added skip-grant-tables parameter in my.cnf\nsudo sed -i '$d' /etc/my.cnf\n\n# Set replication parameters\nsudo chmod 666 /etc/my.cnf\ncommand sudo cat \u003e\u003e/etc/my.cnf \u003c\u003c'EOF'\n\nserver-id=1\nlog-bin=MysqlMaster\nauto_increment_offset=1\nEOF\ncommand sudo echo \"auto_increment_increment=1\" \u003e\u003e/etc/my.cnf\nsudo chmod 644 /etc/my.cnf\n\n# Start mysql service\nsudo systemctl start mysqld.service\necho \"MySQL started successfully.\"\n\n# Alter the password of root to the user-specified password\nmysql -uroot -pAdmin@1235 -e \"SET sql_log_bin=OFF;\"\nmysql -uroot -pAdmin@1235 -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@123';\"\nmysql -uroot -pAdmin@123 -e \"SET sql_log_bin=ON;\"\n\n# Execute the MySQL statement\nmysql -uroot -pAdmin@123 -e \"CREATE USER 'repl'@'%' IDENTIFIED BY 'Slaves@123';\"\nmysql -uroot -pAdmin@123 -e \"GRANT REPLICATION SLAVE ON *.* TO 'repl'@'%';\"\nmysql -uroot -pAdmin@123 -e \"show grants for 'repl'@'%';\"\nmysql -uroot -pAdmin@123 \u003c\u003cEOF\nflush privileges;\nEOF\nsleep 5\n\n# Get MySQL Master status.\n#The file name and position will be used in the Slave instances.\ngetMasterStatus\n",
                            "template": "#!/bin/bash\nset -e -x\n\n#number_of_master=1\n#mysql_root_password=\"Admin@123\"\n#replicate_acount=\"repl\"\n#replicate_password=\"Slave@123\"\n#mysql_repo_releasever=\"8.0\"\n#mysql_version=\"8.0.12\"\n\n# Get the status of MySQL Master. File name and position in status will be used to initialize the Slave instance.\nfunction getMasterStatus() {\n  master_mysql_status=$(mysql -uroot -p${mysql_root_password} -s -e \"show master status \\G;\")\n  command sudo echo $master_mysql_status \u003e/home/opc/master_mysql_status\n}\n\n# Install Mysql\n## Using the MySQL Yum repository to install the latest versions of MySQL 8.0\n## Install Latest version： https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##sudo wget -O /etc/yum.repos.d/mysql.rpm https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##cd /etc/yum.repos.d\n##sudo rpm -Uvh mysql.rpm\n##sudo yum install -y mysql-community-server\n\n# Install MySQL Community Edition 8.0.12\nbaseurl=https://dev.mysql.com/get/Downloads/MySQL-${mysql_repo_releasever}/mysql-${mysql_version}-1.el7.x86_64.rpm-bundle.tar\nsudo wget -O /etc/yum.repos.d/MySQL-${mysql_version}.tar $baseurl\ncd /etc/yum.repos.d\nsudo tar -xvf MySQL-${mysql_version}.tar\nsudo yum install -y mysql-community-{server,client,common,libs}-* --exclude='*minimal*'\n\n# Set httpport on firewall\nsudo firewall-cmd --zone=public --permanent --add-port=3306/tcp\nsudo firewall-cmd --reload\n\n# At the initial start-up of the server, the server is initializeda superuser\n# and account’root’@’localhost’ is created, when MySQL data directory is empty.\nsudo systemctl start mysqld.service\nsudo systemctl status mysqld.service\n\necho \"MySQL installed successfully!\"\n\n# Add skip-grant-tables parameter for mysql to alter password\nsudo chmod 666 /etc/my.cnf\ncommand sudo cat \u003e\u003e/etc/my.cnf \u003c\u003c'EOF'\n\nskip-grant-tables\nEOF\nsudo chmod 644 /etc/my.cnf\n\n# Restart mysql service\nsudo systemctl restart mysqld.service\n\n# Alter password for root\nmysql \u003c\u003cEOF\nFLUSH PRIVILEGES;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@1235';\nEOF\n\n# Stop mysql service\nsudo systemctl stop mysqld.service\n\n# Delete the added skip-grant-tables parameter in my.cnf\nsudo sed -i '$d' /etc/my.cnf\n\n# Set replication parameters\nsudo chmod 666 /etc/my.cnf\ncommand sudo cat \u003e\u003e/etc/my.cnf \u003c\u003c'EOF'\n\nserver-id=1\nlog-bin=MysqlMaster\nauto_increment_offset=1\nEOF\ncommand sudo echo \"auto_increment_increment=${number_of_master}\" \u003e\u003e/etc/my.cnf\nsudo chmod 644 /etc/my.cnf\n\n# Start mysql service\nsudo systemctl start mysqld.service\necho \"MySQL started successfully.\"\n\n# Alter the password of root to the user-specified password\nmysql -uroot -pAdmin@1235 -e \"SET sql_log_bin=OFF;\"\nmysql -uroot -pAdmin@1235 -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY '${mysql_root_password}';\"\nmysql -uroot -p${mysql_root_password} -e \"SET sql_log_bin=ON;\"\n\n# Execute the MySQL statement\nmysql -uroot -p${mysql_root_password} -e \"CREATE USER '${replicate_acount}'@'%' IDENTIFIED BY '${replicate_password}';\"\nmysql -uroot -p${mysql_root_password} -e \"GRANT REPLICATION SLAVE ON *.* TO '${replicate_acount}'@'%';\"\nmysql -uroot -p${mysql_root_password} -e \"show grants for '${replicate_acount}'@'%';\"\nmysql -uroot -p${mysql_root_password} \u003c\u003cEOF\nflush privileges;\nEOF\nsleep 5\n\n# Get MySQL Master status.\n#The file name and position will be used in the Slave instances.\ngetMasterStatus\n",
                            "vars.%": "6",
                            "vars.mysql_repo_releasever": "8.0",
                            "vars.mysql_root_password": "Admin@123",
                            "vars.mysql_version": "8.0.12",
                            "vars.number_of_master": "1",
                            "vars.replicate_acount": "repl",
                            "vars.replicate_password": "Slaves@123"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "oci_core_instance.TFMysqlMaster": {
                    "type": "oci_core_instance",
                    "depends_on": [
                        "data.template_file.setup_mysql",
                        "local.setup_script_dest"
                    ],
                    "primary": {
                        "id": "ocid1.instance.oc1.phx.abyhqljsfpgei223hfnkcqu2fqgacqutgnq2yn53rk7spgsspt7462i4zdna",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "boot_volume_id": "ocid1.bootvolume.oc1.phx.abyhqljsyyrlsvktp275yocjsrewlw4gc5rf2rsykmmrnnai3svrusiczgua",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "create_vnic_details.#": "1",
                            "create_vnic_details.0.assign_public_ip": "false",
                            "create_vnic_details.0.display_name": "tf-mysql-master",
                            "create_vnic_details.0.hostname_label": "tf-mysql-master",
                            "create_vnic_details.0.private_ip": "10.0.20.2",
                            "create_vnic_details.0.skip_source_dest_check": "false",
                            "create_vnic_details.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaa2zw7belsaaseddgqomqqradjiqik2mwgokx7l3qwkusrs6r5xmva",
                            "display_name": "tf-mysql-master",
                            "hostname_label": "tf-mysql-master",
                            "id": "ocid1.instance.oc1.phx.abyhqljsfpgei223hfnkcqu2fqgacqutgnq2yn53rk7spgsspt7462i4zdna",
                            "image": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "launch_mode": "NATIVE",
                            "launch_options.#": "1",
                            "launch_options.0.boot_volume_type": "PARAVIRTUALIZED",
                            "launch_options.0.firmware": "UEFI_64",
                            "launch_options.0.network_type": "VFIO",
                            "launch_options.0.remote_data_volume_type": "PARAVIRTUALIZED",
                            "metadata.%": "1",
                            "metadata.ssh_authorized_keys": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCojE8EDuuuGvxC5ty1Ga3vu1BF5s7K7mNZ9Pdn8N2LG69rOFHVEvEppHDhSKpdDGoorqeHH2vJYXyntepDMkVi9bdbb2/Hblow1cR3sGIyiLz79bByj+p1d/t32WzgxC2y1yrC6/llPX0reWbQVGELKtWzR7fYeesYmP+jOzdd59cVfd9Rv8n8mfn8bSo3g+UErSnVrOyRyQd86JzWp9870soA95mJR0vOA6Koho92zGnTVtqDkbVXFoPfB9BTo/3U1LHGdvN50bFhVPCZYU8iCpTZ5mEQq/mDKWFilRQpRjhhD8K24Tqx+KmWrcjnRfFi0KUov/c4Osx5JVK1dQj1 pengshan.yu@oracle.com\n",
                            "private_ip": "10.0.20.2",
                            "public_ip": "",
                            "region": "phx",
                            "shape": "VM.Standard1.1",
                            "source_details.#": "1",
                            "source_details.0.boot_volume_size_in_gbs": "47",
                            "source_details.0.source_id": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "source_details.0.source_type": "image",
                            "state": "RUNNING",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaa2zw7belsaaseddgqomqqradjiqik2mwgokx7l3qwkusrs6r5xmva",
                            "time_created": "2018-09-28 07:55:23.392 +0000 UTC"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 7200000000000,
                                "update": 7200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "mysql-replication-set",
                "mysql-replication-slave"
            ],
            "outputs": {
                "ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "ocid1.instance.oc1.phx.abyhqljsnsvmteppvzzve6hlerv5niz6zub2xywi6jodmtjxzxii37ealjga",
                        "ocid1.instance.oc1.phx.abyhqljtq2ej6r3sgutz7arb7d52w7z5iozosiwgqde5qwqcj5xrg7ghngqq"
                    ]
                },
                "private_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.0.30.2",
                        "10.0.31.2"
                    ]
                },
                "slave_host_names": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "tf-mysql-slave-1",
                        "tf-mysql-slave-2"
                    ]
                }
            },
            "resources": {
                "data.template_file.install_slave": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "f64d360fa595af0c93a367141f394da1cf7454336b27688b60c11da44794a7d0",
                        "attributes": {
                            "id": "f64d360fa595af0c93a367141f394da1cf7454336b27688b60c11da44794a7d0",
                            "rendered": "#!/bin/bash\nset -e -x\n\n# Get filename and fileposition of mysql master\nfunction getMysqlMasterStatus() {\n  base_dir=\"/home/opc\"\n  keyfile=\"mysql_keyfile\"\n  statusfile=\"master_status\"\n\n  sudo chmod 0600 $base_dir/$keyfile\n  ssh -oStrictHostKeyChecking=no -i $base_dir/$keyfile opc@10.0.20.2 'sudo cat ~/master_mysql_status' \u003e/home/opc/master_status\n  sleep 3\n  mysqlstatus=$(sudo cat $base_dir/$statusfile)\n  delimeter1=':'\n  temp1=`echo $mysqlstatus | cut -d \"$delimeter1\" -f 2`\n  temp2=`echo $mysqlstatus | cut -d \"$delimeter1\" -f 3`\n  delimeter2=' '\n  master_log_filename=`echo $temp1 | cut -d \"$delimeter2\" -f 1`\n  master_log_fileposition=`echo $temp2 | cut -d \"$delimeter2\" -f 1`\n\n  while [ -f $base_dir/$keyfile ]; do\n    sudo rm $base_dir/$keyfile\n  done\n\n  while [ -f $base_dir/$master_status ]; do\n    sudo rm $base_dir/$master_status\n  done\n}\n\n# Install Mysql\n## Using the MySQL Yum repository to install the latest versions of MySQL 8.0\n## Using Latest version： https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##sudo wget -O /etc/yum.repos.d/mysql.rpm https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##cd /etc/yum.repos.d\n##sudo rpm -Uvh mysql.rpm\n##sudo yum install -y mysql-community-server\n\n# Install MySQL Community Edition 8.0.12\nbaseurl=https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.12-1.el7.x86_64.rpm-bundle.tar\nsudo wget -O /etc/yum.repos.d/MySQL-8.0.12.tar $baseurl\ncd /etc/yum.repos.d\nsudo tar -xvf MySQL-8.0.12.tar\nsudo yum install -y mysql-community-{server,client,common,libs}-* --exclude='*minimal*'\n\n# Set httpport on firewall\nsudo firewall-cmd --zone=public --permanent --add-port=3306/tcp\nsudo firewall-cmd --reload\n\n# At the initial start-up of the server, the server is initializeda superuser\n# and account’root’@’localhost’ is created, when MySQL data directory is empty.\nsudo systemctl start mysqld.service\nsudo systemctl status mysqld.service\n\necho \"MySQL installed successfully!\"\n\n# Add skip-grant-tables parameter for mysql to alter password\nsudo chmod 666 /etc/my.cnf\ncommand sudo cat \u003e\u003e/etc/my.cnf \u003c\u003c'EOF'\n\nskip-grant-tables\nEOF\nsudo chmod 644 /etc/my.cnf\n\n# Restart mysql service\nsudo systemctl restart mysqld.service\n\n# Alter password for root\nmysql \u003c\u003cEOF\nFLUSH PRIVILEGES;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@1235';\nEOF\n\n# Stop mysql service\nsudo systemctl stop mysqld.service\n\n# Delete the added skip-grant-tables parameter in my.cnf\nsudo sed -i '$d' /etc/my.cnf\n\n# Start mysql service\nsudo systemctl start mysqld.service\necho \"MySQL started successfully.\"\n\n# Alter the password of root to the user-specified password\nmysql -uroot -pAdmin@1235 -e \"SET sql_log_bin=OFF;\"\nmysql -uroot -pAdmin@1235 -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@123';\"\nmysql -uroot -pAdmin@123 -e \"SET sql_log_bin=ON;\"\nsudo systemctl stop mysqld.service\n\n\n#Connect to MySQL Master instance to get MySQL Status Infromation.\ngetMysqlMasterStatus\nif [ $master_log_filename ]\u0026\u0026[ $master_log_fileposition ]; then\n  echo \"MySQl Master Status infromation(File and Postion):\"\n  echo $master_log_filename\n  echo $master_log_fileposition\nelse\n  echo \"Error: Can not get MySQL Master Status. Can not get status file\"\nfi\n\n#Config my.cnf on MySQL Slave to connect with the Master\n#server-id should be an Integer number between 1 and 2^32 – 1\n#server-id should be different from any other server-ids in the same MySQL cluster.\n#In this program, the server-id of the Mysql Slave will begin with 3001\nsudo chmod 666 /etc/my.cnf\n\ncommand sudo echo \"server-id=$1\" \u003e\u003e/etc/my.cnf\nsudo chmod 644 /etc/my.cnf\n\n#Start mysql service\nsudo systemctl start mysqld.service\necho \"MySQL started successfully.\"\n\n# Set replication\nmysql -uroot -pAdmin@123 \u003c\u003cEOF\nstop slave;\nEOF\n\nmysql -uroot -pAdmin@123 -e \"change master to master_host='10.0.20.2', master_user='repl', master_password='Slaves@123',master_log_file='$master_log_filename',master_log_pos=$master_log_fileposition;\"\nmysql -uroot -pAdmin@123 \u003c\u003cEOF\nstart slave;\nEOF\n\nsleep 5\n\n# Check if the configuration works\nmysql -u repl -h 10.0.20.2 -pSlaves@123 -s -e \"exit\"\nif [ $? -ne 0 ]; then\n    echo \"Failed! MySQL Slave can not connect to Master. Please check your network.\"\nelse\n    echo \"Succeed! MySQL Slave can connect to Master\"\nfi\n\nsleep 5\n\n# Print slave status\nmysql -uroot -pAdmin@123 \u003c\u003cEOF\nshow slave status \\G;\nEOF\n",
                            "template": "#!/bin/bash\nset -e -x\n\n# Get filename and fileposition of mysql master\nfunction getMysqlMasterStatus() {\n  base_dir=\"/home/opc\"\n  keyfile=\"mysql_keyfile\"\n  statusfile=\"master_status\"\n\n  sudo chmod 0600 $base_dir/$keyfile\n  ssh -oStrictHostKeyChecking=no -i $base_dir/$keyfile opc@${master_private_ip} 'sudo cat ~/master_mysql_status' \u003e/home/opc/master_status\n  sleep 3\n  mysqlstatus=$(sudo cat $base_dir/$statusfile)\n  delimeter1=':'\n  temp1=`echo $mysqlstatus | cut -d \"$delimeter1\" -f 2`\n  temp2=`echo $mysqlstatus | cut -d \"$delimeter1\" -f 3`\n  delimeter2=' '\n  master_log_filename=`echo $temp1 | cut -d \"$delimeter2\" -f 1`\n  master_log_fileposition=`echo $temp2 | cut -d \"$delimeter2\" -f 1`\n\n  while [ -f $base_dir/$keyfile ]; do\n    sudo rm $base_dir/$keyfile\n  done\n\n  while [ -f $base_dir/$master_status ]; do\n    sudo rm $base_dir/$master_status\n  done\n}\n\n# Install Mysql\n## Using the MySQL Yum repository to install the latest versions of MySQL 8.0\n## Using Latest version： https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##sudo wget -O /etc/yum.repos.d/mysql.rpm https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n##cd /etc/yum.repos.d\n##sudo rpm -Uvh mysql.rpm\n##sudo yum install -y mysql-community-server\n\n# Install MySQL Community Edition 8.0.12\nbaseurl=https://dev.mysql.com/get/Downloads/MySQL-${mysql_repo_releasever}/mysql-${mysql_version}-1.el7.x86_64.rpm-bundle.tar\nsudo wget -O /etc/yum.repos.d/MySQL-${mysql_version}.tar $baseurl\ncd /etc/yum.repos.d\nsudo tar -xvf MySQL-${mysql_version}.tar\nsudo yum install -y mysql-community-{server,client,common,libs}-* --exclude='*minimal*'\n\n# Set httpport on firewall\nsudo firewall-cmd --zone=public --permanent --add-port=3306/tcp\nsudo firewall-cmd --reload\n\n# At the initial start-up of the server, the server is initializeda superuser\n# and account’root’@’localhost’ is created, when MySQL data directory is empty.\nsudo systemctl start mysqld.service\nsudo systemctl status mysqld.service\n\necho \"MySQL installed successfully!\"\n\n# Add skip-grant-tables parameter for mysql to alter password\nsudo chmod 666 /etc/my.cnf\ncommand sudo cat \u003e\u003e/etc/my.cnf \u003c\u003c'EOF'\n\nskip-grant-tables\nEOF\nsudo chmod 644 /etc/my.cnf\n\n# Restart mysql service\nsudo systemctl restart mysqld.service\n\n# Alter password for root\nmysql \u003c\u003cEOF\nFLUSH PRIVILEGES;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@1235';\nEOF\n\n# Stop mysql service\nsudo systemctl stop mysqld.service\n\n# Delete the added skip-grant-tables parameter in my.cnf\nsudo sed -i '$d' /etc/my.cnf\n\n# Start mysql service\nsudo systemctl start mysqld.service\necho \"MySQL started successfully.\"\n\n# Alter the password of root to the user-specified password\nmysql -uroot -pAdmin@1235 -e \"SET sql_log_bin=OFF;\"\nmysql -uroot -pAdmin@1235 -e \"ALTER USER 'root'@'localhost' IDENTIFIED BY '${mysql_root_password}';\"\nmysql -uroot -p${mysql_root_password} -e \"SET sql_log_bin=ON;\"\nsudo systemctl stop mysqld.service\n\n\n#Connect to MySQL Master instance to get MySQL Status Infromation.\ngetMysqlMasterStatus\nif [ $master_log_filename ]\u0026\u0026[ $master_log_fileposition ]; then\n  echo \"MySQl Master Status infromation(File and Postion):\"\n  echo $master_log_filename\n  echo $master_log_fileposition\nelse\n  echo \"Error: Can not get MySQL Master Status. Can not get status file\"\nfi\n\n#Config my.cnf on MySQL Slave to connect with the Master\n#server-id should be an Integer number between 1 and 2^32 – 1\n#server-id should be different from any other server-ids in the same MySQL cluster.\n#In this program, the server-id of the Mysql Slave will begin with 3001\nsudo chmod 666 /etc/my.cnf\n\ncommand sudo echo \"server-id=$1\" \u003e\u003e/etc/my.cnf\nsudo chmod 644 /etc/my.cnf\n\n#Start mysql service\nsudo systemctl start mysqld.service\necho \"MySQL started successfully.\"\n\n# Set replication\nmysql -uroot -p${mysql_root_password} \u003c\u003cEOF\nstop slave;\nEOF\n\nmysql -uroot -p${mysql_root_password} -e \"change master to master_host='${master_private_ip}', master_user='${replicate_acount}', master_password='${replicate_password}',master_log_file='$master_log_filename',master_log_pos=$master_log_fileposition;\"\nmysql -uroot -p${mysql_root_password} \u003c\u003cEOF\nstart slave;\nEOF\n\nsleep 5\n\n# Check if the configuration works\nmysql -u ${replicate_acount} -h ${master_private_ip} -p${replicate_password} -s -e \"exit\"\nif [ $? -ne 0 ]; then\n    echo \"Failed! MySQL Slave can not connect to Master. Please check your network.\"\nelse\n    echo \"Succeed! MySQL Slave can connect to Master\"\nfi\n\nsleep 5\n\n# Print slave status\nmysql -uroot -p${mysql_root_password} \u003c\u003cEOF\nshow slave status \\G;\nEOF\n",
                            "vars.%": "8",
                            "vars.bastion_host": "129.146.115.44",
                            "vars.master_private_ip": "10.0.20.2",
                            "vars.mysql_repo_releasever": "8.0",
                            "vars.mysql_root_password": "Admin@123",
                            "vars.mysql_version": "8.0.12",
                            "vars.private_key": "/Users/yupengshan/.ssh/id_rsa",
                            "vars.replicate_acount": "repl",
                            "vars.replicate_password": "Slaves@123"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "oci_core_instance.TFMysqlSlave.0": {
                    "type": "oci_core_instance",
                    "depends_on": [
                        "data.template_file.install_slave",
                        "local.mysql_keyfile_dest",
                        "local.setup_script_dest"
                    ],
                    "primary": {
                        "id": "ocid1.instance.oc1.phx.abyhqljsnsvmteppvzzve6hlerv5niz6zub2xywi6jodmtjxzxii37ealjga",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-1",
                            "boot_volume_id": "ocid1.bootvolume.oc1.phx.abyhqljsodp62cgludkeojf3yss5kkctazup4lnmnhv2m55226six4lq2cda",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "create_vnic_details.#": "1",
                            "create_vnic_details.0.assign_public_ip": "false",
                            "create_vnic_details.0.display_name": "tf-mysql-slave-1",
                            "create_vnic_details.0.hostname_label": "tf-mysql-slave-1",
                            "create_vnic_details.0.private_ip": "10.0.30.2",
                            "create_vnic_details.0.skip_source_dest_check": "false",
                            "create_vnic_details.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaaksjl5qdnlcng4nheheirg5xqa7i3ypdbfoi4lgiko245wm5w6vda",
                            "display_name": "tf-mysql-slave-1",
                            "hostname_label": "tf-mysql-slave-1",
                            "id": "ocid1.instance.oc1.phx.abyhqljsnsvmteppvzzve6hlerv5niz6zub2xywi6jodmtjxzxii37ealjga",
                            "image": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "launch_mode": "NATIVE",
                            "launch_options.#": "1",
                            "launch_options.0.boot_volume_type": "PARAVIRTUALIZED",
                            "launch_options.0.firmware": "UEFI_64",
                            "launch_options.0.network_type": "VFIO",
                            "launch_options.0.remote_data_volume_type": "PARAVIRTUALIZED",
                            "metadata.%": "1",
                            "metadata.ssh_authorized_keys": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCojE8EDuuuGvxC5ty1Ga3vu1BF5s7K7mNZ9Pdn8N2LG69rOFHVEvEppHDhSKpdDGoorqeHH2vJYXyntepDMkVi9bdbb2/Hblow1cR3sGIyiLz79bByj+p1d/t32WzgxC2y1yrC6/llPX0reWbQVGELKtWzR7fYeesYmP+jOzdd59cVfd9Rv8n8mfn8bSo3g+UErSnVrOyRyQd86JzWp9870soA95mJR0vOA6Koho92zGnTVtqDkbVXFoPfB9BTo/3U1LHGdvN50bFhVPCZYU8iCpTZ5mEQq/mDKWFilRQpRjhhD8K24Tqx+KmWrcjnRfFi0KUov/c4Osx5JVK1dQj1 pengshan.yu@oracle.com\n",
                            "private_ip": "10.0.30.2",
                            "public_ip": "",
                            "region": "phx",
                            "shape": "VM.Standard1.1",
                            "source_details.#": "1",
                            "source_details.0.boot_volume_size_in_gbs": "47",
                            "source_details.0.source_id": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "source_details.0.source_type": "image",
                            "state": "RUNNING",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaaksjl5qdnlcng4nheheirg5xqa7i3ypdbfoi4lgiko245wm5w6vda",
                            "time_created": "2018-09-28 07:59:16.871 +0000 UTC"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 7200000000000,
                                "update": 7200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                },
                "oci_core_instance.TFMysqlSlave.1": {
                    "type": "oci_core_instance",
                    "depends_on": [
                        "data.template_file.install_slave",
                        "local.mysql_keyfile_dest",
                        "local.setup_script_dest"
                    ],
                    "primary": {
                        "id": "ocid1.instance.oc1.phx.abyhqljtq2ej6r3sgutz7arb7d52w7z5iozosiwgqde5qwqcj5xrg7ghngqq",
                        "attributes": {
                            "availability_domain": "NyKp:PHX-AD-2",
                            "boot_volume_id": "ocid1.bootvolume.oc1.phx.abyhqljtgkas5zj3557juvapqkmhgj446vsfk6hya4vfh24mjyp2jhsvbh4q",
                            "compartment_id": "ocid1.compartment.oc1..aaaaaaaawzlfllc7kkf62dzkes75urrxfxppz5fjphx27a7k5fk5jnzvyhiq",
                            "create_vnic_details.#": "1",
                            "create_vnic_details.0.assign_public_ip": "false",
                            "create_vnic_details.0.display_name": "tf-mysql-slave-2",
                            "create_vnic_details.0.hostname_label": "tf-mysql-slave-2",
                            "create_vnic_details.0.private_ip": "10.0.31.2",
                            "create_vnic_details.0.skip_source_dest_check": "false",
                            "create_vnic_details.0.subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaawgd4stwfyobfhfs5nzuy35ouy5pgmcmtucsewhua5mibis47uljq",
                            "display_name": "tf-mysql-slave-2",
                            "hostname_label": "tf-mysql-slave-2",
                            "id": "ocid1.instance.oc1.phx.abyhqljtq2ej6r3sgutz7arb7d52w7z5iozosiwgqde5qwqcj5xrg7ghngqq",
                            "image": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "launch_mode": "NATIVE",
                            "launch_options.#": "1",
                            "launch_options.0.boot_volume_type": "PARAVIRTUALIZED",
                            "launch_options.0.firmware": "UEFI_64",
                            "launch_options.0.network_type": "VFIO",
                            "launch_options.0.remote_data_volume_type": "PARAVIRTUALIZED",
                            "metadata.%": "1",
                            "metadata.ssh_authorized_keys": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCojE8EDuuuGvxC5ty1Ga3vu1BF5s7K7mNZ9Pdn8N2LG69rOFHVEvEppHDhSKpdDGoorqeHH2vJYXyntepDMkVi9bdbb2/Hblow1cR3sGIyiLz79bByj+p1d/t32WzgxC2y1yrC6/llPX0reWbQVGELKtWzR7fYeesYmP+jOzdd59cVfd9Rv8n8mfn8bSo3g+UErSnVrOyRyQd86JzWp9870soA95mJR0vOA6Koho92zGnTVtqDkbVXFoPfB9BTo/3U1LHGdvN50bFhVPCZYU8iCpTZ5mEQq/mDKWFilRQpRjhhD8K24Tqx+KmWrcjnRfFi0KUov/c4Osx5JVK1dQj1 pengshan.yu@oracle.com\n",
                            "private_ip": "10.0.31.2",
                            "public_ip": "",
                            "region": "phx",
                            "shape": "VM.Standard1.1",
                            "source_details.#": "1",
                            "source_details.0.boot_volume_size_in_gbs": "47",
                            "source_details.0.source_id": "ocid1.image.oc1.phx.aaaaaaaaxyc7rpmh3v4yyuxcdjndofxuuus4iwd7a7wjc63u2ykycojr5djq",
                            "source_details.0.source_type": "image",
                            "state": "RUNNING",
                            "subnet_id": "ocid1.subnet.oc1.phx.aaaaaaaawgd4stwfyobfhfs5nzuy35ouy5pgmcmtucsewhua5mibis47uljq",
                            "time_created": "2018-09-28 07:59:16.688 +0000 UTC"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 7200000000000,
                                "update": 7200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.oci"
                }
            },
            "depends_on": []
        }
    ]
}
